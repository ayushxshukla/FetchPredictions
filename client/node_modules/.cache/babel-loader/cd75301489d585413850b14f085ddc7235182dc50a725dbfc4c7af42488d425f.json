{"ast":null,"code":"// src/components/Form/FormComponent.js\nimport React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import\"./FormComponent.scss\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FormComponent=()=>{const[formData,setFormData]=useState({name:\"\",phoneNumber:\"\",address:\"\"});const handleChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();const dataWithTimestamp={...formData,timestamp:new Date().toISOString()};try{// const baseUrl = `${window.location.origin}/api`;\nconst baseUrl=\"https://fetchpredictions.onrender.com/api\";const response=await fetch(\"\".concat(baseUrl,\"/submit\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(dataWithTimestamp)});if(!response.ok)throw new Error(\"Failed to submit data\");const settingsResponse=await fetch(\"https://fetchpredictions.onrender.com/api/settings\");if(!settingsResponse.ok)throw new Error(\"Failed to fetch redirect link\");const settingsData=await settingsResponse.json();const redirectLink=settingsData.redirectLink||\"/\";window.location.href=redirectLink;}catch(error){console.error(\"Error during form submission or redirect\",error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-wrapper\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Form\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:formData.name,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phoneNumber\",children:\"Phone Number:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"phoneNumber\",name:\"phoneNumber\",value:formData.phoneNumber,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"address\",children:\"Address:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"address\",name:\"address\",value:formData.address,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Confirm\"})]})]});};export default FormComponent;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","FormComponent","formData","setFormData","name","phoneNumber","address","handleChange","e","value","target","navigate","handleSubmit","preventDefault","dataWithTimestamp","timestamp","Date","toISOString","baseUrl","response","fetch","concat","method","headers","body","JSON","stringify","ok","Error","settingsResponse","settingsData","json","redirectLink","window","location","href","error","console","className","children","onSubmit","htmlFor","type","id","onChange"],"sources":["/Users/ayushshukla/Desktop/ayushpred/client/src/components/Form/FormComponent.jsx"],"sourcesContent":["// src/components/Form/FormComponent.js\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./FormComponent.scss\";\n\nconst FormComponent = () => {\n  const [formData, setFormData] = useState({\n    name: \"\",\n    phoneNumber: \"\",\n    address: \"\",\n  });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value,\n    });\n  };\n\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const dataWithTimestamp = {\n      ...formData,\n      timestamp: new Date().toISOString(),\n    };\n\n    try {\n      // const baseUrl = `${window.location.origin}/api`;\n      const baseUrl = `https://fetchpredictions.onrender.com/api`;\n      const response = await fetch(`${baseUrl}/submit`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(dataWithTimestamp),\n      });\n\n      if (!response.ok) throw new Error(\"Failed to submit data\");\n\n      const settingsResponse = await fetch(\n        \"https://fetchpredictions.onrender.com/api/settings\"\n      );\n      if (!settingsResponse.ok)\n        throw new Error(\"Failed to fetch redirect link\");\n\n      const settingsData = await settingsResponse.json();\n      const redirectLink = settingsData.redirectLink || \"/\";\n      window.location.href = redirectLink;\n    } catch (error) {\n      console.error(\"Error during form submission or redirect\", error);\n    }\n  };\n\n  return (\n    <div className=\"form-wrapper\">\n      <h1>Form</h1>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label htmlFor=\"name\">Name:</label>\n          <input\n            type=\"text\"\n            id=\"name\"\n            name=\"name\"\n            value={formData.name}\n            onChange={handleChange}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"phoneNumber\">Phone Number:</label>\n          <input\n            type=\"text\"\n            id=\"phoneNumber\"\n            name=\"phoneNumber\"\n            value={formData.phoneNumber}\n            onChange={handleChange}\n          />\n        </div>\n        <div>\n          <label htmlFor=\"address\">Address:</label>\n          <input\n            type=\"text\"\n            id=\"address\"\n            name=\"address\"\n            value={formData.address}\n            onChange={handleChange}\n          />\n        </div>\n        <button type=\"submit\">Confirm</button>\n      </form>\n    </div>\n  );\n};\n\nexport default FormComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}